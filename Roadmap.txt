
[ ] Get new types working with generified endpoints
[ ] Once that's done, add people to the generified types with likes, updates, endorsements
[ ] Determine if messages are a relation
[ ] Determine if offers are a relation

====[ Projects ]

----[ API ]
 | 
 | kinds = [hub, club, project, resource]
 | 

GET     /api/earth/here/:kind?latitude=<number>&longitude=<number>

POST    /api/earth/:kind => {}
PUT     /api/earth/:kind/:id => {}
GET     /api/earth/:kind/:id
DELETE  /api/earth/:kind/:id

 | 
 | relation = [follow, endorsement, like, join, update, comment]
 | 

POST    /api/earth/:relation/:kind/:id
GET     /api/earth/:relation/:kind/:id
GET     /api/earth/:relation/:id
DELETE  /api/earth/:relation/:id


====[ Properties ]

/// Language

thing <kind> {
    <role>: <value>
}

link <kind> {
	source: <thing>
	target: <thing>
	body: <thing>
}

///

public class HubThing implements Joinable, Followable, Updatable {

}

public class UpdateRelation extends Relation {
	Key<? extends Thing> source;
	Key<? extends Thing> target;
	UpdateThing update;
}

///

Hub {
	name: <string>
	description: <string>
	photo: <boolean>
	contact: <person>
	location: <location>
	
	people: <list<person>>
	updates: <list<update>>
	likers: <list<people>>
	followers: <list<people>>
	
	actions {
		join:
		leave:
		update:
		setPhoto:
	}
}

Project {
	
}

Resource {
	
}

Club {
	public: <boolean>
}


=== RELATIONS ===


Update {
	
}


===================

"/here/updates" => [
    {
        "source<person>": {
            "id": "230982402382324",
            "firstName": "Mai"
        },
        "target<club>": {
            "id": "93547247939348",
            "name": "Mai's Coffee Shop"
        },
        "photo": true,
        "message": "What's up?",
        "created": "August 19, 2014 12:00:00 AM UTC"
    }
]

ADVANTAGE     |JSON remains the same for all objects
DISADVANTAGES | id is potentially modified

"/here/updates" => [
    {
        "source": {
            "id": "person.230982402382324",
            "firstName": "Mai"
        },
        "target": {
            "id": "club.93547247939348",
            "name": "Mai's Coffee Shop"
        },
        "photo": true,
        "message": "What's up?",
        "created": "August 19, 2014 12:00:00 AM UTC"
    }
]

ADVANTAGE     | keys remain the same
ADVANTAGE     | don't need a parent key to identify type
ADVANTAGE     | ids are global
ADVANTAGE     | can have multiple types in the same list
DISADVANTAGES | JSON differs on the ID
DISADVANTAGES | have to read ID to know what it is (don't know type before reading


=== MASTERPIECE ===

[/api/earth]
EarthApi {
    ThingHandler -> "/:thing"
}

[/:thing/:id]
ThingHandler {
    new handler(":thing").withId(":id").forward(this)
}

[/update]
HubInterface extends InterfaceConcept {
    this.register("update", new Updatable(Hub.class))
}


EarthApi Servlet        | "earth.router.consume(list string, map string object)"
    |
    v
Router Concept          | "Route and deliver a request to an Interface Concept"
    |
    v
Interface Concept       | "Consume a leaf-node request, potentially returning something"
 |  |  |
 v  v  v
Various Concepts
    |
    v
Interface Concept bubbles up response

